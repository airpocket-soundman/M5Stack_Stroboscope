# M5Stack_Stroboscope
stroboscope

## このプロジェクトの意義

この作品は科学教育及び科学法則を利用したアートプロジェクトです。
ストロボスコープによる周期運動の観察と、無重力を感じさせる空中の水滴への画像投影を実現しています。広大な宇宙に浮かぶ小さな地球の美しくも儚い姿を表現しました。

## ストロボスコープとは

ストロボスコープとは、周期的に強い光を発することで、高速で動く物体の動きを観察できる装置です。 周期運動している物体に、その運動周期に同期した光を照射すると、物体の動きが停止しているように見える現象が生じます。この現象はストロボスコピック効果（またはストロボ効果）と呼ばれ、光の周期をわずかにずらすことで、スローモーションや逆再生のような視覚効果を得ることもできます。 市販の装置も多く販売されており、高速回転するモータやファン、スピーカなどの振動体の観測・測定に利用されています。一般的な市販品は、数マイクロ秒から数ミリ秒の発光を、1秒間に最大1000〜2000回程度行える仕様が多い様です。 人間の目が短時間の発光を認識するには強い光が必要なため、高サイクルでの観察にはより高輝度な照明が求められます。そのため、ストロボスコープは短時間で強い光を発光できるように設計されています。 このプロジェクトではM5Stackを使用してストロボスコープを制作し、M5Stackのディスプレイに表示したアニメーションを水滴の中に投影します。

## ストロボスコープとしての機能
ストロボスコープとして使用する為に、白色LED９個を束ねたフラッシュライトモジュールを制作しています。これにより、任意のオブジェクトを照明で照らして観察できます。
今回は、水滴を滴下する装置を作成し、水滴を観察しています。
また、MSStackのディスプレイにアニメーションを表示しつつ、LED照明の代わりに、ディスプレイのバックライトを点滅させることで水滴にディスプレイのイメージを投影できます。
コントローラに配置した二つのポテンショメータでフラッシュライトの点灯周期及び点灯時間を調節できます。点灯周期を変更するとこで、水滴が停止したりスローモーションで動いたりといった視覚効果を得られます。

## 水滴滴下装置

水滴をストロボスコープで観察する為に滴下装置を制作しました。上部タンクに水をため、下部のノズルから水圧により周期的な水滴の滴下を行います。ノズルはシリコーンゴムチューブで制作し、途中に配置したローラクランプで滴下速度を調節できます。
滴下装置の筐体は３Dプリンタ部品で制作しました。

## 制御回路
　
この装置は当初ストロボスコープの制御をArduino UNOで行い、アニメーション表示をM5StackCore2で行っていました。写真右のArduino Uno用のシールド基板を制作しMOSFETでのスイッチング回路や滴下タイミング制御用のポテンショメータと接続していました。M5StackCore2であれば、点灯制御とアニメーション制御を1台で賄えるため、写真左の接続用ボードを追加作成し、このボードを経由して制御基板へ接続しています。
M5StackCore2のG35,G36のADCでポテンショメータを読み取り、G26でストロボスコープ点灯用タイミング信号を出力しています。

M5Stackからの制御信号の出力にはBASE26を使用しています。BASE26にはDC-DCコンバータが搭載されているため、電源としてDC12Vを入力してコントローラとポンプの駆動に利用しています。ポンプの駆動には12Vのまま利世しています。

## M5StackCore2の改造
　
M5StackCore2のディスプレイのバックライトを制御するため、バックライトのFPCから電源回路を取り出しています。この回路をストロボスコープ用の回路に接続することで、ストロボスコープ同様の点灯制御ができます。



## アニメーションの表示

M5Stackのディスプレイに表示するアニメーションはマイクロSDに保存しています。保存形式はRGB565（16bit）BMPにします。画像サイズはディスプレイに合わせて320×240pixelにするのが良いでしょう。今回は地球の表示であったため、読み込み時間削減のため、240×240pixelの画像を使用しています。